<!DOCTYPE html>
<html>
	<head>
    <title>V-D&D</title>
    <meta charset="utf-8" />
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.0/dist/aframe-extras.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="./scripts/app.js"></script>
  </head>
  <body style='margin : 0px; overflow: hidden;'>
    <button id="registerTableButton" style="position: absolute; top: 0; left: 0; padding: 20px; z-index: 10">Toggle Register Table</button>
    <a-scene embedded arjs='debugUIEnabled: false; detectionMode: color_and_matrix'>
      <!--a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/dwarf-paladin/dwarf-paladin-marker2.patt"
        size="0.064"
      >
        <a-box position='0 0.5 0' color="red"></a-box>
      </a-marker-->
      <a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/human-fighter/human-fighter-marker.patt"
        size="0.048"
        id='fighter-root'
      >
      </a-marker>

      <!-- TABLE  -->

      <a-entity
        id='table-center'
        dnd-table='legs: #top-left-leg, #top-right-leg, #bottom-right-leg, #bottom-left-leg, #dwarf-paladin; tableCenter: #table-center'

        >
          <a-entity
            table-piece='marker: #fighter-root; table: #table-center;'
          >
            <a-entity position="1 0 -3" json-model="src: url(models/knight.json);" animation-mixer="clip: Bip001.001|Take 001|BaseLayer;">
            </a-entity>
            <!-- <a-sphere material="color: red; opacity: 0.8;" scale='0.5 0.5 0.5'></a-plane> -->
          </a-entity>
          <a-plane position='0 0 0' scale='4 4 4' color="green" rotation='-90 0 0'></a-plane>
      </a-entity>
      <!--  TABLE LEGS -->
      <a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/table-legs/top-left.patt"
        size="0.048"
        id='top-left-leg'
      ><a-sphere material="color: blue; opacity: 0.1;" scale='0.5 0.5 0.5'></a-plane></a-marker>
      <a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/table-legs/top-right.patt"
        size="0.048"
        id='top-right-leg'
      ><a-sphere material="color: blue; opacity: 0.1;" scale='0.5 0.5 0.5'></a-plane></a-marker>
      <a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/table-legs/bottom-right.patt"
        size="0.048"
        id='bottom-right-leg'
      ><a-sphere material="color: blue; opacity: 0.1;" scale='0.5 0.5 0.5'></a-plane></a-marker>
      <a-marker
        type="pattern"
        url="https://10.0.7.40:8080/markers/table-legs/bottom-left.patt"
        size="0.048"
        id='bottom-left-leg'
      ><a-sphere material="color: blue; opacity: 0.1;" scale='0.5 0.5 0.5'></a-plane></a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>